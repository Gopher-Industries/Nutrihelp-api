#!/usr/bin/env python3
"""
Helper: render JSON scan result to HTML using the project's renderer (render_html_report).
Usage: render_from_json.py <json_file> <output_html>
"""
import sys
import json
import os

sys.path.insert(0, os.path.dirname(os.path.dirname(os.path.abspath(__file__))))

from core.report_renderer import render_html_report


def main():
    if len(sys.argv) < 3:
        print('Usage: render_from_json.py <json_file> <output_html>')
        return 2
    json_file = sys.argv[1]
    output_file = sys.argv[2]

    with open(json_file, 'r', encoding='utf-8') as f:
        data = json.load(f)

    # config manager optional; pass None
    html = render_html_report(data, None)

    with open(output_file, 'w', encoding='utf-8') as f:
        f.write(html)

    print(output_file)
    return 0

if __name__ == '__main__':
    sys.exit(main())
